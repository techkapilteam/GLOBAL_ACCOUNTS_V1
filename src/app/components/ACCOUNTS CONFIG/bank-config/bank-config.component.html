<div class="screen-container">
  <div class="screen-card">
    <div class="screen-header">
      <h2>Bank Configuration</h2>
    </div>
    <div class="screen-content">

      <form class="section-content" autocomplete="off" [formGroup]="bankmasterform" (ngSubmit)="save()">

        <div class="row g-3">
          <div class="col-md-6 col-xl-4">
            <div class="mb-3">
              <label class="required-field">Date</label>
              <input class="form-control w-auto" type="text" title="Date" id="todate" formControlName="todate"
                [bsConfig]="dpConfig" bsDatepicker placement="bottom" readonly>
              <small class="text-danger"
                *ngIf="bankmasterform.get('todate')?.touched && bankmasterform.get('todate')?.invalid">
                Date is required.
              </small>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 col-xl-4">
            <div class="mb-3">
              <label class="form-label">A/C Type</label>
              <select class="form-select" formControlName="pAcctountype">
                <option value="" disabled>Select</option>
                <option value="Saving">Saving</option>
                <option value="Current">Current</option>
              </select>
            </div>
          </div>

          <div class="col-md-6 col-xl-4">
            <div class="mb-3">
              <label class="form-label">Account No.</label>
              <input class="form-control" type="text" maxlength="50" formControlName="pAccountnumber">
            </div>
          </div>

          <div class="col-md-6 col-xl-4">
            <div class="mb-3">
              <label class="form-label">Bank</label>
              <select class="form-select" formControlName="pBankname">
                <option value="" disabled>Select</option>
                <option *ngFor="let bank of banksList" [value]="bank.pBankName">{{ bank.pBankName }}</option>
              </select>
            </div>
          </div>

          <div class="col-md-6 col-xl-4">
            <div class="mb-3">
              <label class="form-label">Account Name</label>
              <input class="form-control" type="text" maxlength="150" formControlName="pAccountname">
            </div>
          </div>

          <div class="col-md-6 col-xl-4">
            <div class="mb-3">
              <label class="form-label">Branch</label>
              <input class="form-control" type="text" maxlength="125" formControlName="pBankbranch">
            </div>
          </div>

          <div class="col-md-6 col-xl-4">
            <div class="row g-2">
              <div class="col">
                <label class="form-label">IFSC Code</label>
                <input class="form-control" placeholder="IFSC Code" maxlength="12" formControlName="pIfsccode">
              </div>
              <div class="col">
                <label class="form-label">Overdraft Limit</label>
                <input class="form-control text-end" placeholder="Overdraft" formControlName="pOverdraft">
              </div>
            </div>
          </div>

          <div class="col-md-6 col-xl-4">
            <label class="form-label">Opening Balance</label>
            <div class="input-group">
              <input class="form-control text-end" placeholder="0.00" formControlName="pOpeningBalance">
              <select class="form-select" formControlName="pOpeningBalanceType">
                <option value="" disabled>Select</option>
                <option value="D">Debit</option>
                <option value="C">Credit</option>
              </select>
            </div>
          </div>
        </div>

        <hr class="my-4">
        <div class="row">
          <div class="col-md-12 mb-2">
            <label class="form-check-label d-flex align-items-center" style="cursor:pointer; color: #0d6efd;"
              (click)="toggleBranchAddress()">
              <span class="me-2" style="font-size: 1rem;">
                <i
                  [ngClass]="{'bi-chevron-right': !branchAddressExpanded, 'bi-chevron-down': branchAddressExpanded}"></i>
              </span>
              Branch Address
            </label>
          </div>

          <div class="col-12" *ngIf="branchAddressExpanded">
            <div class="row">
              <div class="col-md-6 col-xl-4">
                <div class="form-group">
                  <label for="address1" title="Address Line 1">Address Line 1</label>
                  <input type="text" id="address1" class="form-control" maxlength="150" formControlName="address1">
                </div>
              </div>
              <div class="col-md-6 col-xl-4">
                <div class="form-group">
                  <label for="address2" title="Address Line 2">Address Line 2</label>
                  <input type="text" id="address2" class="form-control" maxlength="150" formControlName="address2">
                </div>
              </div>
              <div class="col-md-6 col-xl-4">
                <div class="form-group">
                  <label for="city" title="City / Village">City / Village</label>
                  <input type="text" id="city" class="form-control" maxlength="75" formControlName="city">
                </div>
              </div>
              <div class="col-md-6 col-xl-4 mt-2">
                <div class="form-group">
                  <label for="country" title="Country">Country</label>
                  <select id="country" class="form-select" formControlName="country">
                    <option value="">Select</option>
                    <option *ngFor="let c of countries" [value]="c.name">{{ c.name }}</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6 col-xl-4 mt-2">
                <div class="row g-2">
                  <div class="col-6">
                    <label for="state" title="State">State</label>
                    <select id="state" class="form-select" formControlName="state">
                      <option value="">Select</option>
                      <option *ngFor="let s of states" [value]="s.name">{{ s.name }}</option>
                    </select>
                  </div>
                  <div class="col-6">
                    <label for="district" title="District">District</label>
                    <select id="district" class="form-select" formControlName="district">
                      <option value="">Select</option>
                      <option *ngFor="let d of districts" [value]="d.name">{{ d.name }}</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-xl-4 mt-2">
                <div class="form-group">
                  <label for="pincode" title="Pincode">Pincode</label>
                  <input type="text" id="pincode" class="form-control" maxlength="6" formControlName="pincode" readonly>
                </div>
              </div>
            </div>
          </div>
        </div>

        <hr class="light">
        <div class="row">

          <div class="col-md-4">
            <div class="mb-3 d-flex align-items-center" style="cursor:pointer;"
              (click)="debitcardhideandshow = !debitcardhideandshow">
              <span class="flex-grow-1 text-primary">Add Debit Card</span>
              <span>
                <i class="bi"
                  [ngClass]="{'bi-chevron-right': !debitcardhideandshow, 'bi-chevron-down': debitcardhideandshow}"></i>
              </span>
            </div>

            <div *ngIf="debitcardhideandshow">
              <div class="d-flex align-items-center justify-content-between mb-2">
                <span>Debit Card Setup</span>
                <div class="d-flex align-items-center">
                  <span class="me-2">Status</span>
                  <div class="form-check form-switch mb-0">
                    <input class="form-check-input" type="checkbox" id="debitCardStatus">
                  </div>
                </div>
              </div>

              <div class="mb-3">
                <label for="pCardNo">Card No</label>
                <input type="text" id="pCardNo" class="form-control" placeholder="Card No" maxlength="16"
                  formControlName="pCardNo">
              </div>

              <div class="row g-2 mb-3">
                <div class="col">
                  <label for="pValidfrom">Valid From</label>
                  <input type="text" id="pValidfrom" class="form-control" placeholder="Valid From"
                    formControlName="pValidfrom" bsDatepicker [bsConfig]="dpConfig" readonly>
                </div>
                <div class="col">
                  <label for="pValidto">Valid Thru</label>
                  <input type="text" id="pValidto" class="form-control" placeholder="Valid Thru"
                    formControlName="pValidto" bsDatepicker [bsConfig]="dpConfig" readonly>
                </div>
              </div>

              <div class="mb-3">
                <label for="pCardName">Name on The Card</label>
                <input type="text" id="pCardName" class="form-control" placeholder="Name on The Card"
                  formControlName="pCardName">
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="mb-3">
              <div class="form-check">
                <input type="checkbox" class="form-check-input" formControlName="pIsupiapplicable" id="upiCheck">
                <label class="form-check-label" for="upiCheck">Add UPI</label>
              </div>

              <div class="mt-3" *ngIf="bankupihideandshow">
                <div class="mb-3">
                  <input class="form-control" placeholder="UPI ID" formControlName="pUpiid">
                </div>
                <div class="mb-3">
                  <select class="form-select" formControlName="pUpiname">
                    <option value="" disabled>Select</option>
                    <option *ngFor="let u of upiname" [value]="u.pUpiname">{{ u.pUpiname }}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>


          <div class="col-md-4">
            <div class="d-flex align-items-center justify-content-between mb-2" style="cursor:pointer"
              (click)="bankSetupExpanded = !bankSetupExpanded">

              <span class="text-primary">Bank Setup</span>
              <i class="bi" [ngClass]="{
                   'bi-chevron-right': !bankSetupExpanded,
                   'bi-chevron-down': bankSetupExpanded
                 }">
              </i>
            </div>

            <div *ngIf="bankSetupExpanded" class="border rounded p-2">

              <div class="d-flex align-items-center justify-content-between mb-2">
                <span>Primary</span>
                <div class="d-flex align-items-center">
                  <span class="me-2">Status</span>
                  <div class="form-check form-switch mb-0">
                    <input class="form-check-input" type="checkbox" [checked]="selectedBankStatus === 'isprimary'"
                      (change)="selectBankStatus('isprimary')">
                  </div>
                </div>
              </div>

              <div class="d-flex align-items-center justify-content-between mb-2">
                <span>Foreman Bank</span>
                <div class="d-flex align-items-center">
                  <span class="me-2">Status</span>
                  <div class="form-check form-switch mb-0">
                    <input class="form-check-input" type="checkbox" [checked]="selectedBankStatus === 'isformanbank'"
                      (change)="selectBankStatus('isformanbank')">
                  </div>
                </div>
              </div>

              <div class="d-flex align-items-center justify-content-between mb-2">
                <span>Foreman Payment Bank</span>
                <div class="d-flex align-items-center">
                  <span class="me-2">Status</span>
                  <div class="form-check form-switch mb-0">
                    <input class="form-check-input" type="checkbox"
                      [checked]="selectedBankStatus === 'isforemanpaymentbank'"
                      (change)="selectBankStatus('isforemanpaymentbank')">
                  </div>
                </div>
              </div>

              <div class="d-flex align-items-center justify-content-between">
                <span>Interest Payment Bank</span>
                <div class="d-flex align-items-center">
                  <span class="me-2">Status</span>
                  <div class="form-check form-switch mb-0">
                    <input class="form-check-input" type="checkbox"
                      [checked]="selectedBankStatus === 'isintrestpaymentbank'"
                      (change)="selectBankStatus('isintrestpaymentbank')">
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <div class="d-flex justify-content-end gap-2 mb-4">
          <button type="button" class="btn btn-secondary" (click)="clear()">Clear</button>
          <button type="submit" class="btn btn-primary">Save</button>
        </div>

      </form>
    </div>
  </div>
</div>
<!-- 1111 -->