<div class="screen-container">
  <div class="screen-card">
    <div class="screen-header">
      <h2>Cheque Cancel</h2>
    </div>

    <div class="screen-content">
      <div class="container-fluid my-3">

        <ng-template #customLoadingTemplate>
          <div class="text-center p-3">
            <div class="spinner-border text-primary"></div>
          </div>
        </ng-template>

        <!-- <ngx-loading
    [show]="loading"
    [config]="{ backdropBorderRadius: '6px' }"
    [template]="customLoadingTemplate">
  </ngx-loading> -->

        <div class="card shadow-sm p-3 mb-3">
          <form [formGroup]="FrmChequeCancel" autocomplete="off">

            <div class="row align-items-end">

              <div class="col-md-3">
                <label class="form-label fw-semibold">From Date</label>
                <input type="text" class="form-control form-control-sm" [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY',containerClass: 'theme-dark-blue' }" #dp="bsDatepicker"
                bsDatepicker
                  formControlName="fromdate" >
              </div>

              <div class="col-md-3">
                <label class="form-label fw-semibold">To Date</label>
                <input type="text" class="form-control form-control-sm" [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY',containerClass: 'theme-dark-blue' }" #dp="bsDatepicker"
                bsDatepicker
                  formControlName="todate" readonly>
              </div>

              <div class="col-md-3">
                <button type="button" class="btn btn-primary btn-sm w-100" (click)="GetChequeCancelDetails()">

                  <i class="fa me-2"
                    [ngClass]="{'fa-spinner fa-spin': disablesavebutton, 'fa-search': !disablesavebutton}">
                  </i>
                  {{ savebutton }}
                </button>
              </div>

            </div>
          </form>
        </div>

        <div class="card shadow-sm p-3" *ngIf="!showHide">
          <div class="text-center mb-1 fw-bold fs-5">
            KAPIL CHITS (HYDERABAD) PVT. LTD.
          </div>

          <div class="text-center mb-1">
            Above TVS Showroom, 1st Floor, Opp: R&B Guest House, Old N.K-07, Kamarreddy
          </div>

          <div class="text-center mb-2 fw-semibold">
            CIN: U65992TG2008PTC060803
          </div>

          <hr class="mt-2 mb-3">

          <div class="text-center fw-bold fs-5">Cheque Cancel</div>
          <div class="d-flex justify-content-end gap-2 mt-3" *ngIf="showicons">
            <button class="btn btn-outline-danger btn-sm" (click)="pdfOrprint('pdf')">
              <i class="fa fa-file-pdf me-1"></i> PDF
            </button>
            
            <button class="btn btn-outline-success btn-sm" (click)="export()">
              <i class="fa fa-file-excel me-1"></i> Excel
            </button>
            <button class="btn btn-outline-secondary btn-sm" (click)="pdfOrprint('print')">
              <i class="fa fa-print me-1"></i> Print
            </button>
          </div>

          <div class="row mt-3"  *ngIf="StartDate && EndDate">
            <div class="col-md-6">
              <strong>Between:</strong>
              <span class="ms-2">
                {{ StartDate | date:'dd-MMM-yyyy' }} And {{ EndDate | date:'dd-MMM-yyyy' }}
              </span>
            </div>
          </div>

          <div class="row mt-3 fw-semibold text-primary">
            <div class="col-md-7 text-center">Cheque Details</div>
            <div class="col-md-5 text-center">Receipt Details</div>
          </div>

          <p-table
        [value]="gridData"
        [paginator]="true"
        [rows]="pageCriteria.pageSize"
        [totalRecords]="pageCriteria.totalrows"
        responsiveLayout="scroll"
        styleClass="p-datatable-sm p-datatable-gridlines"
      >

        <ng-template pTemplate="header">
          <tr>
            <th>Cancel Date</th>
            <th>Cheque No.</th>
            <th>Cheque Amt.</th>
            <th>Bank Name</th>
            <th>Receipt No.</th>
            <th>Receipt Date</th>
            <th>Particulars</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-row>
          <tr>
            <td>{{ row.pdepositeddate | date:'dd-MM-yyyy' }}</td>
            <td>{{ row.preferencenumber }}</td>
            <td>{{ currencysymbol }} {{ row.ptotalreceivedamount | number:'1.2-2' }}</td>
            <td>{{ row.pbankname }}</td>
            <td>{{ row.preceiptid }}</td>
            <td>{{ row.pchequedate | date:'dd-MM-yyyy' }}</td>
            <td>{{ row.pparticulars }}</td>
          </tr>
        </ng-template>

      </p-table>


        </div>

      </div>


    </div>
  </div>
</div>