<div class="surface-ground p-3">
  <div class="surface-card p-4 border-round shadow-2">

    <div class="mb-4">
      <h2 class="m-0">Cheque Cancel</h2>
    </div>

    <div class="flex justify-content-center p-3" *ngIf="loading">
      <p-progressSpinner></p-progressSpinner>
    </div>

    <p-card class="mb-4">
      <form [formGroup]="FrmChequeCancel" autocomplete="off">

        <div class="grid align-items-end gap-3">

          <div class="col-12 md:col-3">
            <label class="block mb-2 font-semibold">From Date</label>
            <p-datePicker
              formControlName="fromdate"
              dateFormat="dd-M-yy"
              showIcon="true"
              inputStyleClass="w-full"
            ></p-datePicker>
          </div>

          <div class="col-12 md:col-3">
            <label class="block mb-2 font-semibold">To Date</label>
            <p-datePicker
              formControlName="todate"
              dateFormat="dd-M-yy"
              showIcon="true"
              inputStyleClass="w-full"
            ></p-datePicker>
          </div>

          <div class="col-12 md:col-3">
            <p-button
              label="{{ savebutton }}"
              icon="{{ disablesavebutton ? 'pi pi-spin pi-spinner' : 'pi pi-search' }}"
              class="w-full"
              (onClick)="GetChequeCancelDetails()"
            ></p-button>
          </div>

        </div>
      </form>
    </p-card>

    <p-card *ngIf="!showHide">

      <div class="text-center mb-2 text-lg font-bold">
        KAPIL CHITS (HYDERABAD) PVT. LTD.
      </div>

      <div class="text-center mb-1">
        Above TVS Showroom, 1st Floor, Opp: R&amp;B Guest House, Old N.K-07, Kamarreddy
      </div>

      <div class="text-center font-semibold mb-3">
        CIN: U65992TG2008PTC060803
      </div>

      <hr class="my-3">

      <div class="text-center text-lg font-bold mb-3">
        Cheque Cancel
      </div>

      <div class="flex justify-content-end gap-2 mb-3" *ngIf="showicons">
        <p-button
          icon="pi pi-file-pdf"
          label="PDF"
          severity="danger"
          outlined
          size="small"
          (onClick)="pdfOrprint('pdf')"
        ></p-button>

        <p-button
          icon="pi pi-file-excel"
          label="Excel"
          severity="success"
          outlined
          size="small"
          (onClick)="export()"
        ></p-button>

        <p-button
          icon="pi pi-print"
          label="Print"
          severity="secondary"
          outlined
          size="small"
          (onClick)="pdfOrprint('print')"
        ></p-button>
      </div>

      <div class="grid mb-3" *ngIf="StartDate && EndDate">
        <div class="col-12 md:col-6">
          <span class="font-semibold">Between:</span>
          <span class="ml-2">
            {{ StartDate | date:'dd-MMM-yyyy' }} And {{ EndDate | date:'dd-MMM-yyyy' }}
          </span>
        </div>
      </div>

      <div class="grid font-semibold text-primary mb-2">
        <div class="col-12 md:col-7 text-center">Cheque Details</div>
        <div class="col-12 md:col-5 text-center">Receipt Details</div>
      </div>

      <p-table
        [value]="gridData"
        [paginator]="true"
        [rows]="pageCriteria.pageSize"
        [totalRecords]="pageCriteria.totalrows"
        responsiveLayout="scroll"
        styleClass="p-datatable-sm p-datatable-gridlines"
      >

        <ng-template pTemplate="header">
          <tr>
            <th>Cancel Date</th>
            <th>Cheque No.</th>
            <th>Cheque Amt.</th>
            <th>Bank Name</th>
            <th>Receipt No.</th>
            <th>Receipt Date</th>
            <th>Particulars</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-row>
          <tr>
            <td>{{ row.pdepositeddate | date:'dd-MM-yyyy' }}</td>
            <td>{{ row.preferencenumber }}</td>
            <td>{{ currencysymbol }} {{ row.ptotalreceivedamount | number:'1.2-2' }}</td>
            <td>{{ row.pbankname }}</td>
            <td>{{ row.preceiptid }}</td>
            <td>{{ row.pchequedate | date:'dd-MM-yyyy' }}</td>
            <td>{{ row.pparticulars }}</td>
          </tr>
        </ng-template>

      </p-table>

    </p-card>
  </div>
</div>