<div class="container mt-3">
  <div class="screen-card">

    <div class="screen-header">
      <h2>Bank Book</h2>
    </div>

    <div class="screen-content">
      <form>
        <div class="row g-3">

          <div class="col-md-3">
            <label class="form-label">From Date</label>
            <input type="text" class="form-control" bsDatepicker [(ngModel)]="fromDate" name="fromDate"
              [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" onkeydown="return false">
          </div>

          <div class="col-md-3">
            <label class="form-label">To Date</label>
            <input type="text" class="form-control" bsDatepicker [(ngModel)]="toDate" name="toDate"
              [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" onkeydown="return false">
          </div>

          <div class="col-md-3">
            <label class="form-label">Bank Name</label>
            <div class="custom-select-wrapper">
              <select class="form-control custom-select" [(ngModel)]="bankName" name="bankName">
                <option value="">Select</option>
                <option>State Bank</option>
                <option>HDFC Bank</option>
                <option>ICICI Bank</option>
              </select>
            </div>
          </div>

          <div class="col-md-3 d-flex align-items-end">
            <button type="button" class="btn btn-primary" (click)="generateReport()">
              Generate Report
            </button>
          </div>

        </div>
      </form>

      <form *ngIf="showTable" class="mt-4 p-3 border" style="background-color:white;">

        <div class="d-flex justify-content-end gap-2 mb-2">
          <button type="button" (click)="exportPDF()" class="btn btn-link p-0">
            <img src="assets/images/pdf-icon-blue.svg" width="18" alt="PDF">
          </button>

          <button type="button" (click)="printReport()" class="btn btn-link p-0">
            <img src="assets/images/print-icon-blue.svg" width="18" alt="Print">
          </button>

          <button type="button" (click)="exportExcel()" class="btn btn-link p-0">
            <img src="assets/images/icon-excel.svg" width="18" alt="Excel">
          </button>
        </div>

        <div class="text-center mb-3">
          <h4 class="mb-1">KAPIL CHITS(HYDERABAD) PVT. LTD.</h4>
          <p class="mb-1">
            Above TVS Showroom, 1st Floor, Opp:R&B Guest House,
            Old NK-07, Kamareddy
          </p>
          <p class="mb-1">CIN : U65992TG2008PTC060803</p>

          <p class="mb-1 text-end">
            <b>Branch : Ca-hyderabad-co</b>
          </p>

          <h5 class="mt-2 mb-1">
            Bank Book - {{ bankName }}
          </h5>

          <p class="mb-1 text-start">
            <b>Between :</b>
            {{ fromDate | date:'dd-MMM-yyyy' }}
            And
            {{ toDate | date:'dd-MMM-yyyy' }}
          </p>
        </div>

        <ngx-datatable class="bootstrap" [rows]="rows" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
          [rowHeight]="'auto'" [limit]="10">

          <ngx-datatable-column name="Transaction No" prop="txnNo"></ngx-datatable-column>

          <ngx-datatable-column name="Particulars">
            <ng-template let-row="row" ngx-datatable-cell-template>
              {{ row.particulars | date:'dd-MMM-yyyy' }}
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Narration" prop="narration"></ngx-datatable-column>

          <ngx-datatable-column name="Receipts">
            <ng-template let-row="row" ngx-datatable-cell-template>
              ₹ {{ row.receipts | number:'1.2-2' }}
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Payments">
            <ng-template let-row="row" ngx-datatable-cell-template>
              ₹ {{ row.payments | number:'1.2-2' }}
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="Balance">
            <ng-template let-row="row" ngx-datatable-cell-template>
              ₹ {{ row.balance | number:'1.2-2' }}
            </ng-template>
          </ngx-datatable-column>

        </ngx-datatable>

      </form>

    </div>
  </div>
</div>

<style>
  .custom-select-wrapper {
    position: relative;
  }

  .custom-select-wrapper::after {
    content: '▾';
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    pointer-events: none;
    font-size: 16px;
    color: #555;
  }


  .custom-select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    padding-right: 30px;
  }
</style>