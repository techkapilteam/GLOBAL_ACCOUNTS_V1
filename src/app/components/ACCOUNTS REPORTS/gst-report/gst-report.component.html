<div class="screen-container">
  <div class="screen-card">
    <div class="screen-header">
      <h2>GST Receipts and Payments</h2>
    </div>

    <div class="screen-content">

      <form [formGroup]="GstReportForm">

        <div class="row mb-3">
          <div class="col-md-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="receipts" value="receipts"
                formControlName="receiptsPayments" (change)="gstReportType($event.target.value)">
              <label class="form-check-label" for="receipts">
                Receipts
              </label>
            </div>
          </div>

          <div class="col-md-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="payments" value="payments"
                formControlName="receiptsPayments" (change)="gstReportType($any($event.target).value)">
              <label class="form-check-label" for="payments">
                Payments
              </label>
            </div>
          </div>
        </div>

        <div class="row g-3">

          <div class="col-md-4" *ngIf="showreceipts">
            <label class="form-label required-field">Ledger</label>
            <ng-select [items]="ledgeraccountslist" formControlName="pledgerid" bindLabel="pledgername"
              bindValue="pledgername" [searchable]="true" [clearable]="false" appendTo="body" placeholder="Select"
              (change)="ledgerName_Change($event)">
            </ng-select>
          </div>

          <div class="col-md-3" *ngIf="showreceipts">
            <label class="form-label required-field">Month</label>
            <input class="form-control" bsDatepicker [bsConfig]="{ dateInputFormat: 'MMM-YYYY',minMode: 'month',containerClass: 'theme-dark-blue' }" formControlName="month" readonly>
          </div>

          <div class="col-md-3" *ngIf="showpayments">
            <label class="form-label">From Date</label>
            <input class="form-control" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY',containerClass: 'theme-dark-blue'}" formControlName="fromdate" readonly>
          </div>

          <div class="col-md-3" *ngIf="showpayments">
            <label class="form-label">To Date</label>
            <input class="form-control" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY',containerClass: 'theme-dark-blue' }" formControlName="todate" readonly>
          </div>

          <div class="col-md-4 d-flex align-items-end gap-2">
            <button type="button" (click)="click_GstReport()" class="btn btn-primary">
              {{ savebutton }}
            </button>

            <button type="button" (click)="click_GstSummary()" class="btn btn-secondary">
              GST Summary
            </button>
          </div>

        </div>
      </form>

    </div>
  </div>

  <div class="card shadow-sm mt-4" *ngIf="showhidegstreport">
    <div class="card-body p-0">
      <p-table
  [value]="GstReportDetails"
  [paginator]="true"
  [rows]="pageCriteria.pageSize"
  [first]="pageCriteria.offset * pageCriteria.pageSize"
  [totalRecords]="pageCriteria.totalrows"
  responsiveLayout="scroll"
  styleClass="p-datatable-gridlines">

  <ng-template pTemplate="header">
    <tr>
      <th>Chit No</th>
      <th>GST No</th>
      <th>Name</th>
      <th>City</th>
      <th>State</th>
      <th>Amount</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row>
    <tr>
      <td>{{ row.groupcode }}</td>
      <td>{{ row.gstnumber }}</td>
      <td>{{ row.accountname }}</td>
      <td>{{ row.city }}</td>
      <td>{{ row.state }}</td>
      <td>{{ row.receiptamount }}</td>
    </tr>
  </ng-template>

</p-table>
    </div>
  </div>

  <div class="card shadow-sm mt-4" *ngIf="showhidegstsummary">
    <div class="card-body p-0">
      <p-table
  [value]="GstSummaryDetails"
  responsiveLayout="scroll"
  styleClass="p-datatable-gridlines">

  <ng-template pTemplate="header">
    <tr>
      <th>Company</th>
      <th>State</th>
      <th>Count</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row>
    <tr>
      <td>{{ row.companyname }}</td>
      <td>{{ row.state }}</td>
      <td>{{ row.count }}</td>
    </tr>
  </ng-template>

</p-table>
    </div>
  </div>

  <div class="card shadow-sm mt-4" *ngIf="showpayments">
    <div class="card-body p-0">
      <p-table
  [value]="gstpaymentsdata"
  responsiveLayout="scroll"
  styleClass="p-datatable-gridlines">

  <ng-template pTemplate="header">
    <tr>
      <th>GST Voucher No.</th>
      <th>Name</th>
      <th>State</th>
      <th>GST Voucher Date</th>
      <th>Taxable Amount</th>
      <th>CGST Amount</th>
      <th>SGST Amount</th>
      <th>IGST Amount</th>
      <th>Total Amount</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row>
    <tr>
      <td>{{ row.pgstvoucherno }}</td>
      <td>{{ row.vendorname }}</td>
      <td>{{ row.state }}</td>
      <td>{{ row.gstVoucherDate | date:'dd-MM-yyyy' }}</td>
      <td>{{ row.taxableAmount }}</td>
      <td>{{ row.cgstAmount }}</td>
      <td>{{ row.sgstAmount }}</td>
      <td>{{ row.igstAmount }}</td>
      <td>{{ row.invoice_total_amount }}</td>
    </tr>
  </ng-template>

</p-table>

    </div>
  </div>
</div>