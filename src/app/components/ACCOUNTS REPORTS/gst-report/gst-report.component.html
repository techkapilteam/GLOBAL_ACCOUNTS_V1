<div class="screen-container">
  <div class="screen-card">
    <div class="screen-header">
      <h2>GST Receipts and Payments</h2>
    </div>

    <div class="screen-content">

      <form [formGroup]="GstReportForm">

        <div class="row mb-3">
          <div class="col-md-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="receipts" value="receipts"
                formControlName="receiptsPayments" (change)="gstReportType($event.target.value)">
              <label class="form-check-label" for="receipts">
                Receipts
              </label>
            </div>
          </div>

          <div class="col-md-2">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="payments" value="payments"
                formControlName="receiptsPayments" (change)="gstReportType($any($event.target).value)">
              <label class="form-check-label" for="payments">
                Payments
              </label>
            </div>
          </div>
        </div>

        <div class="row g-3">

          <div class="col-md-4" *ngIf="showreceipts">
            <label class="form-label required-field">Ledger</label>
            <ng-select [items]="ledgeraccountslist" formControlName="pledgerid" bindLabel="pledgername"
              bindValue="pledgername" [searchable]="true" [clearable]="false" appendTo="body" placeholder="Select"
              (change)="ledgerName_Change($event)">
            </ng-select>
          </div>

          <div class="col-md-3" *ngIf="showreceipts">
            <label class="form-label required-field">Month</label>
            <input class="form-control" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" formControlName="month" readonly>
          </div>

          <div class="col-md-3" *ngIf="showpayments">
            <label class="form-label">From Date</label>
            <input class="form-control" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" formControlName="fromdate" readonly>
          </div>

          <div class="col-md-3" *ngIf="showpayments">
            <label class="form-label">To Date</label>
            <input class="form-control" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" formControlName="todate" readonly>
          </div>

          <div class="col-md-4 d-flex align-items-end gap-2">
            <button type="button" (click)="click_GstReport()" class="btn btn-primary">
              {{ savebutton }}
            </button>

            <button type="button" (click)="click_GstSummary()" class="btn btn-secondary">
              GST Summary
            </button>
          </div>

        </div>
      </form>

    </div>
  </div>

  <div class="card shadow-sm mt-4" *ngIf="showhidegstreport">
    <div class="card-body p-0">
      <ngx-datatable class="material" [rows]="GstReportDetails" columnMode="force" [headerHeight]="50" [rowHeight]="50"
        [limit]="pageCriteria.pageSize" [offset]="pageCriteria.offset">

        <ngx-datatable-column name="Chit No" prop="groupcode" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="GST No" prop="gstnumber" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="Name" prop="accountname" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="City" prop="city" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="State" prop="state" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="Amount" prop="receiptamount" sortable="false"></ngx-datatable-column>

      </ngx-datatable>
    </div>
  </div>

  <div class="card shadow-sm mt-4" *ngIf="showhidegstsummary">
    <div class="card-body p-0">
      <ngx-datatable class="material" [rows]="GstSummaryDetails">
        <ngx-datatable-column name="Company" prop="companyname" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="State" prop="state" sortable="false"></ngx-datatable-column>
        <ngx-datatable-column name="Count" prop="count" sortable="false"></ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>

  <div class="card shadow-sm mt-4" *ngIf="showpayments">
    <div class="card-body p-0">
      <ngx-datatable class="material" [rows]="gstpaymentsdata" [columnMode]="'force'" [headerHeight]="45"
        [footerHeight]="40" [rowHeight]="'auto'">

        <ngx-datatable-column name="GST Voucher No." prop="pgstvoucherno" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="Name" prop="vendorname" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="State" prop="state" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="GST Voucher Date" prop="gstVoucherDate" sortable="false">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{ row.gstVoucherDate | date:'dd-MM-yyyy' }}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Taxable Amount" prop="taxableAmount" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="CGST Amount" prop="cgstAmount" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="SGST Amount" prop="sgstAmount" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="IGST Amount" prop="igstAmount" sortable="false"></ngx-datatable-column>

        <ngx-datatable-column name="Total Amount" prop="invoice_total_amount" sortable="false"></ngx-datatable-column>

      </ngx-datatable>

    </div>
  </div>
</div>