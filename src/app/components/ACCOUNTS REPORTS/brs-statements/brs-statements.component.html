<div class="section-content">
    <div class="screen-card">

        <div class="screen-header mb-3">
            <h4>BRS Statements</h4>
        </div>

        <form [formGroup]="form" class="mb-3">

            <div class="row ms-4">

                <div class="form-check form-check-inline col-md-4">
                    <input class="form-check-input" type="radio" name="bankType" value="CREDIT"
                        (change)="onBankTypeChange('CREDIT')">
                    <label class="form-check-label">Bank Credit</label>
                </div>

                <div class="form-check form-check-inline col-md-4" style="margin-left: -220px;">
                    <input class="form-check-input" type="radio" name="bankType" value="DEBIT"
                        (change)="onBankTypeChange('DEBIT')">
                    <label class="form-check-label">Bank Debit</label>
                </div>

            </div>

            <br>

            <div class="row ms-2">

                <div class="form-group col-md-3 me-3">
                    <label>Bank Name</label>
                    <ng-select id="bankId" title="Select Bank Name" [items]="bankData" formControlName="bankId"
                        bindLabel="name" bindValue="name" [multiple]="false" placeholder="Select Bank Name"
                        [searchable]="true" [clearable]="true" dropdownPosition="bottom" [clearOnBackspace]="true"
                        [virtualScroll]="true">
                    </ng-select>
                </div>

                <div class="form-group col-md-3 me-3">
                    <label>From Date</label>
                    <input type="text" class="form-control" bsDatepicker formControlName="fromDate"
                        [bsConfig]="dpConfig" readonly onkeydown="return false">
                </div>

                <div class="form-group col-md-3 me-3">
                    <label>To Date</label>
                    <input type="text" class="form-control" bsDatepicker formControlName="toDate" [bsConfig]="dpConfig"
                        readonly onkeydown="return false">
                </div>

                <div class="form-group col-md-2 mt-4">
                    <button type="button" class="btn btn-primary" (click)="getReport()" [disabled]="!bankType">
                        Show
                    </button>
                </div>

            </div>
        </form>

        <div class="d-flex justify-content-end align-items-center gap-3 mb-3" *ngIf="bankType">

            <button class="btn btn-outline-danger me-2" (click)="pdfOrprint('Pdf')">
                <i class="fa fa-file-pdf me-1"></i> PDF
            </button>

            <button class="btn btn-outline-secondary me-2" (click)="pdfOrprint('Print')">
                <i class="fa fa-print me-1"></i> Print
            </button>

            <button class="btn btn-outline-success" (click)="exportExcel()">
                <i class="fa fa-file-excel me-1"></i> Excel
            </button>

        </div>

        <p-table *ngIf="bankType" [value]="gridView" responsiveLayout="scroll"
            class="p-datatable-gridlines p-datatable-striped">

            <ng-template pTemplate="header">
                <tr *ngIf="bankType === 'CREDIT'">
                    <th>Receipt Date</th>
                    <th>Receipt No</th>
                    <th>Amount</th>
                    <th>Cheque No</th>
                    <th>Cheque Date</th>
                    <th>Deposit Date</th>
                    <th>Cleared Date</th>
                    <th>Particular</th>
                </tr>

                <tr *ngIf="bankType === 'DEBIT'">
                    <th>Trans Date</th>
                    <th>Trans No</th>
                    <th>Cheque No</th>
                    <th>Amount</th>
                    <th>Cleared Date</th>
                    <th>Particular</th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-row>
                <tr *ngIf="bankType === 'CREDIT'">
                    <td>{{ formatDate(row.receiptDate) }}</td>
                    <td>{{ row.receiptNo }}</td>
                    <td>{{ row.amount }}</td>
                    <td>{{ row.chequeNo }}</td>
                    <td>{{ formatDate(row.chequeDate) }}</td>
                    <td>{{ formatDate(row.depositDate) }}</td>
                    <td>{{ formatDate(row.clearedDate) }}</td>
                    <td>{{ row.particular }}</td>
                </tr>

                <tr *ngIf="bankType === 'DEBIT'">
                    <td>{{ formatDate(row.transDate) }}</td>
                    <td>{{ row.transNo }}</td>
                    <td>{{ row.chequeNo }}</td>
                    <td>{{ row.amount }}</td>
                    <td>{{ formatDate(row.clearedDate) }}</td>
                    <td>{{ row.particular }}</td>
                </tr>
            </ng-template>

        </p-table>

        <div class="text-center mt-3" *ngIf="bankType && gridView.length === 0"></div>
    </div>
</div>