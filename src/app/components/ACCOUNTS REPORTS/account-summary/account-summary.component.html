<div class="screen-container">
    <div class="screen-card">
      <div  class="screen-header">
        <h2>Account Summary</h2>
      </div>
  <div class="screen-content">
    <form [formGroup]="Accontsummaryform">
        <div class="row">
            <div class="col-xl-2 col-md-2 mt-4">
                <div class="form-check form-check-inline check-btn-secondary">
                    <input class="form-check-input" type="checkbox" id="ason" formControlName="date">
                    <label class="" for="ason"> As On:</label>
                </div>
            </div>
            <div class=" col-xl-2 col-md-2 form-group">
                <label id="dfromdate" title="From Date">From Date</label>
                <input type="text" title="From Date" id="dfromdate" class="form-control" [bsConfig]="dpConfig" readonly
                    bsDatepicker #dp="bsDatepicker" (ngModelChange)="ToDateChange($event)" formControlName="dfromdate"
                    placeholder="DD/MM/YYYY" />
            </div>
            <div class="col-xl-2 col-md-2 form-group">
                <div>
                    <label id="dtodate" title="To Date">To Date</label>
                    <input type="text" title="To Date" id="dtodate" class="form-control" [bsConfig]="dppConfig" readonly
                        bsDatepicker #dp="bsDatepicker" formControlName="dtodate" placeholder="DD/MM/YYYY" />
                    <!-- <div *ngIf="validation" class="text-danger">
                        please select valid date
                    </div> -->
                </div>
            </div>
            <div class="col-xl-3 col-md-3 form-group">
                <label title="Ledger" class="required-field" id="pledgerid">Ledger</label>
                <!-- <select multiple class="form-control" id="MultiSelctdropdown" formControlName="pledgerid">
							</select> -->
                <select id="pledgerid"  class="form-control"
                    [ngClass]="{ 'is-invalid': accountsummaryvalidations.pledgerid }">
                    <option value="" disabled>Select</option>
                    <option *ngFor="let ledger of ledgeraccountslist" [value]="ledger.pledgerid">{{ ledger.pledgername
                        }}</option>
                </select>

                <div class="invalid-feedback">
                    <span *ngIf="accountsummaryvalidations.pledgerid">{{accountsummaryvalidations?.pledgerid}}</span>
                </div>
                <!-- <div *ngIf="validationforledger" class="text-danger">
						select the ledger
					</div> -->
            </div>
            <div class="col-xl-3 col-md-3 mt-2 pt-3">
                <label></label>
                <!-- <button aria-controls="hot" aria-selected="false" class="btn btn-b-icon  border-0"
							data-toggle="tab" role="tab" (click)="generateaccountsummary()">
							<i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading}"></i>
							<span *ngIf="!isLoading"><img class="mr-3" height="20px"
									src="assets/images/reports-white.svg" width="20px"></span> {{savebutton}}
						</button> -->
                <!-- <button class="btn btn-s-icon px-3 border-0" (click)="generateaccountsummary()">
					<img src="assets/images/icon-check-white.svg" class="mr-3" width="20px" height="20px">
					<i class="fa"></i> {{savebutton}}
				</button> -->
                <button (click)="generateaccountsummary()" class="btn btn-primary px-3 border-0" [disabled]="isLoading">
                   {{savebutton}}

                </button>
            </div>
        </div>
    </form>
</div>
<div id="template" [hidden]="Showhide" class="section-content mt-2">
    <div class="d-flex justify-content-end mr-3 mt-4" *ngIf="showicons">
        <ul class="temp-ul">
            <!-- <li class="temp-ico ml-2">
                <img src="assets/images/pdf-icon-blue.svg " width="18px" class="pt-2" title="pdf" style="cursor: pointer;" kendo-button (click)="pdfOrprint('Pdf')" />
            </li> -->

            <li class="temp-ico ml-2">
                <img src="assets/images/pdf-icon-blue.svg" width="18" class="pt-2" title="PDF" style="cursor:pointer"
                    (click)="pdfOrPrint('Pdf')" />
            </li>

            <li class="temp-ico ml-2">
                <img src="assets/images/print-icon-blue.svg " width="18px" class="pt-2" title="print"
                    (click)="pdfOrprint('Print')" style="cursor: pointer;" />
            </li>
            <!-- Excel implimentation by Harsha 23-09-21 -->
            <li class="temp-ico ml-2">
                <img src="assets/images/icon-excel.svg " width="18px" class="pt-2" title="Excel"
                    style="cursor: pointer;" (click)="export()" />
            </li>
        </ul>
    </div>


    <div id="temp-box">
        <div class="mt-2 border rounded shadow-sm bg-white">
            <div class="row">
                <div class="col-md-12">
                    <!-- <app-company-details [PrintedDateShowhide]="printedDate"></app-company-details> -->

                    <div class="report-head">
                        <p class="font-16 text-dark text-center m-0">
                            Account Summary
                        </p>

                    </div>
                </div>
            </div>
        </div>

        <div class="section-card">
            <div class="row">
                <div class="col-md-6">
                    <div class="">
                        <span class="font-14 text-left m-0 mr-4" style="font-size: 14px !important;
					font-weight: bold !important;">{{betweendates}} :</span>
                        <label class="print-font">
                            {{ betweenfrom | date:'dd/MM/yyyy' }} {{ inbetween }} {{ betweento | date:'dd/MM/yyyy' }}
                        </label>
                    </div>
                </div>

            </div>

            <div class="row pt-2">
                <div class="col-12">
                    <!-- [limit]="commencementgridPage.size" [count]="commencementgridPage.totalElements"
									[offset]="commencementgridPage.pageNumber" [externalPaging]="true" -->
                    <ngx-datatable #myTable class='material expandable table' [rows]='gridData' [headerHeight]="50"
                        [rowHeight]="50" [groupRowsBy]="'pparentname'" [groupExpansionDefault]="true"
                        [columnMode]="'force'" [scrollbarH]="true" [summaryRow]="true" [summaryHeight]="50"
                        [summaryPosition]="'bottom'">

                        <ngx-datatable-group-header [rowHeight]="50" #myGroupHeader (toggle)="onDetailToggle($event)">
                            <ng-template let-group="group" let-expanded="expanded" ngx-datatable-group-header-template>
                                <div style="padding-left:5px;">
                                    <a [class.datatable-icon-right]="!expanded" [class.datatable-icon-down]="expanded"
                                        title="Expand/Collapse Group" (click)="toggleExpandGroup(group)">
                                        <b>Ledger:{{ group.value[0].pparentname }} </b>
                                    </a>

                                </div>
                            </ng-template>
                        </ngx-datatable-group-header>
                        <ngx-datatable-column prop="paccountname" name="Particulars" style="width: 300px;">
                        </ngx-datatable-column>

                        <ngx-datatable-column name="Max Transaction Date" prop="ptransactiondate"
                            [cellClass]="'cell-center'" [headerClass]="'header-center'" [sortable]="false">
                            <ng-template let-row="row" ngx-datatable-cell-template>
                                <span title="{{ row.ptransactiondate }}">
                                    {{ row.ptransactiondate | date:'dd/MM/yyyy' }}
                                </span>

                            </ng-template>
                        </ngx-datatable-column>


                        <!-- <ngx-datatable-column [hidden]="ledger" prop="pparentname" name="Ledger" style="widows: 300px;">
										</ngx-datatable-column> -->
                        <ngx-datatable-column prop="popeningbal" name="Opening Balance" *ngIf="hidegridcolumn"
                            [headerClass]="'header-right'" [cellClass]="'cell-right'">
                            <ng-template let-row="row" ngx-datatable-cell-template>
                                <div *ngIf="row.popeningbal == 0"></div>
                                <div *ngIf="row.popeningbal!= 0">
                                    {{currencysymbol}} {{row.popeningbal}}
                                </div>
                            </ng-template>
                        </ngx-datatable-column>

                        <ngx-datatable-column prop="pdebitamount" name="Debit Amount" [headerClass]="'header-right'"
                            [cellClass]="'cell-right'" [summaryTemplate]="TotalDebitAmount">


                            <ng-template let-row="row" ngx-datatable-cell-template>
                                <div *ngIf="row.pdebitamount == 0"></div>
                                <div *ngIf="row.pdebitamount != 0">
                                    {{ row.pdebitamount | currency:currencysymbol:'symbol':'1.2-2' }}
                                </div>

                            </ng-template>
                            <ng-template #TotalDebitAmount>
                                {{ caldebitamount | currency:currencysymbol:'symbol':'1.2-2' }}
                            </ng-template>

                        </ngx-datatable-column>

                        <ngx-datatable-column prop="pcreditamount" name="Credit Amount" [headerClass]="'header-right'"
                            [cellClass]="'cell-right'" [summaryTemplate]="TotalCreditAmount">
                            <ng-template let-row="row" ngx-datatable-cell-template>
                                <div *ngIf="row.pcreditamount == 0"></div>
                                <div *ngIf="row.pcreditamount != 0">
                                    {{ row.pcreditamount | currency:currencysymbol:'symbol':'1.2-2' }}
                                </div>

                            </ng-template>
                            <ng-template #TotalCreditAmount>
                                {{ calcreditamount | currency:currencysymbol:'symbol':'1.2-2' }}
                            </ng-template>

                        </ngx-datatable-column>
                        <ngx-datatable-column prop="pclosingbal" name="Closing Balance" *ngIf="hidegridcolumn"
                            [headerClass]="'header-right'" [cellClass]="'cell-right'">
                            <ng-template let-row="row" ngx-datatable-cell-template>
                                <div *ngIf="row.pclosingbal == 0"></div>
                                <div *ngIf="row.pclosingbal != 0">
                                    {{currencysymbol}} {{row.pclosingbal}}
                                </div>
                            </ng-template>
                        </ngx-datatable-column>
                        <ngx-datatable-footer *ngIf="gridData">
                            <ng-template ngx-datatable-footer-template let-rowCount="rowCount"
                                let-selectedCount="selectedCount" let-curPage="curPage">
                                <div style="padding: 5px 10px" *ngIf="gridData.length>0">
                                    <!-- <div>{{ pageCriteria.currentPageRows }} {{pageCriteria.footerMessagetext1}}
										{{ pageCriteria.totalrows }} {{pageCriteria.footerMessagetext2}}</div> -->
                                </div>
                                <!-- <datatable-pager [pagerLeftArrowIcon]="'datatable-icon-left'"
                                    [pagerRightArrowIcon]="'datatable-icon-right'"
                                    [pagerPreviousIcon]="'datatable-icon-prev'" [pagerNextIcon]="'datatable-icon-skip'"
                                    [page]="curPage" [size]="pageCriteria.pageSize" [count]="rowCount"
                                    (change)="onFooterPageChange($event)">
                                </datatable-pager> -->
                            </ng-template>
                        </ngx-datatable-footer>
                    </ngx-datatable>
                </div>
            </div>


        </div>
    </div>

</div>
</div>
</div>
